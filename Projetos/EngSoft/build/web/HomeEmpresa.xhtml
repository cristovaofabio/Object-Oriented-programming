<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Home</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
        <link type="text/css" rel="stylesheet" href="/TestandoMaterialize/css/materialize.css" media="screen,projection"/>
        <style>
            body {
                background-image: url("imagens/white.jpg");
                -webkit-background-size: cover;
                   -moz-background-size: cover;
                   -o-background-size: cover;
                   background-size: cover;       
            }
            
        </style>
    </h:head>
    <body>
        ${loginBean.permissao()}
        <nav class="indigo lighten-2">
            <div class="container">
                <div class="nav-wrapper ">
                    <ul id="nav-mobile" class="right hide-on-med-and-down ">
                        <li>BUSCAGIO</li>
                    </ul>
                    <ul id="nav-mobile" class="center hide-on-med-and-down ">
                        <li>Bem vindo, #{loginBean.empresa.nome}</li>
                    </ul>
                </div>  
            </div>
        </nav>
        
         <h:form style="min-width:400px;min-height:200px;">
             <p:dataTable value="#{estagioBean.getEstagios(loginBean.empresa.email)}" var="estagio" reflow="true" style="margin-top:50px" >
             <f:facet name="header">
                Lista de estágios
            </f:facet>
                <p:column>
                    <f:facet name="header">Função</f:facet>
                    #{estagio.funcao}
                </p:column>
                <p:column>
                    <f:facet name="header">Descrição</f:facet>
                    #{estagio.descricao}
                </p:column>
                <p:column>
                    <f:facet name="header">Início da oferta</f:facet>
                    #{estagio.inioferta}
                </p:column>
                <p:column>
                    <f:facet name="header">Fim da oferta</f:facet>
                    #{estagio.fimoferta}
                </p:column>
                <p:column>
                    <f:facet name="header">Cidade</f:facet>
                    #{estagio.cidadeEmpresa}
                </p:column>
                <p:column>
                    <f:facet name="header">Estado</f:facet>
                    #{estagio.estadoEmpresa}
                </p:column>
                <p:column>
                    <f:facet name="header">Quantidade de vagas</f:facet>
                    #{estagio.quantidadeVagas}
                </p:column>
                <p:column>
                    <div align="center">
                        <f:facet name="header">Remover</f:facet>
                        <h:commandButton image="imagens/delete1.png" value="Remover"  action="#{estagioBean.excluir(estagio)}"/>
                    </div>
                </p:column>
                <p:column>
                    <div align="center">
                        <f:facet name="header">Notificar</f:facet>
                        <h:commandButton image="imagens/email1.png" value="Notificar" action="#{estagioBean.receber(estagio.id)}"/>
                    </div>
                </p:column>
            </p:dataTable>
             
             <p:dock position="bottom">
                <p:menuitem value="Adicionar estágio" icon="imagens/add.png" url="faces/AdicionarEstagio.xhtml" />
                <p:menuitem value="Editar perfil" icon="imagens/edit.png" url="faces/EditarEmpresa.xhtml" />
                <p:menuitem value="Sair" icon="imagens/out.png" action="${loginBean.logout()}" />
            </p:dock>
        </h:form>     
       
    </body>
</html>
